<html>
	<head>
		<title>Phone Stand Maker</title> 
		<!-- http://stackoverflow.com/questions/6793312/how-to-use-jquery-in-svg-scalable-vector-graphics#6794343 -->

		<link rel="stylesheet" href="css/svg-styles.css">

		<script src="vendor/jquery/jquery.min.js"></script>
		<script src="vendor/misc/path-rounding.js"></script>
		<script src="vendor/misc/download-uri.js"></script>
		<script src="js/svg-tools.js"></script>

		<script>
		// TODO: set svg viewport

		function getSvgPreview(w,h,cornerRadius){
			var svg = '';
			svg += '<svg '
			svg += 'viewport="0 0 '+w+'mm '+h+'mm" ';
			svg += 'width="'+w+'mm" ';
			svg += 'height="'+h+'mm" ';
			svg += '>';
			svg += makeSvgCodeForBox( 0, 0, w, h, cornerRadius, cornerRadius);
			svg += '</svg>';
			return svg;
		}

		$(document).ready(function(){
			$('input').on('change',function(){
				$('#preview-area').html( getSvgPreview(
					parseFloat($('#input-phone-width').val()),
					parseFloat($('#input-phone-height').val()),
					parseFloat($('#input-phone-corner-radius').val())
				) );
			});
			$('#btn-download-svg').on('click',function(){
				var svg = getSvgPreview(
					parseFloat($('#input-phone-width').val()),
					parseFloat($('#input-phone-height').val()),
					parseFloat($('#input-phone-corner-radius').val())
				);
				downloadURI('data:text/svg,'+svg, 'svg-test.svg');
			});
			//var svg = '<svg>'+makeSvgCodeForBox( 0, 20, 200, 100, 20, 5)+'</svg>';
			//$('body').html(svg);
			//downloadURI( 'data:text/svg,'+svg, 'svg-test.svg' );
		});
		</script>
	</head>

	<body>

		<form>
			<div class="form-group">
				<label for="input-phone-width">Width (mm)</label>
				<input type="text" class="form-control" id="input-phone-width" placeholder="10">
			</div>
			<div class="form-group">
				<label for="input-phone-height">Height (mm)</label>
				<input type="text" class="form-control" id="input-phone-height" placeholder="10">
			</div>
			<div class="form-group">
				<label for="input-phone-corner-radius">Corner Radius (mm)</label>
				<input type="text" class="form-control" id="input-phone-corner-radius" placeholder="10">
			</div>
			<button id="btn-download-svg" type="submit" class="btn btn-default">Download SVG</button>
		</form>

		<div id="preview-area"></div>

	</body>

</html>
